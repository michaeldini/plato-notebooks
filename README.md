# Plato-Notebooks

Read and illustrate Plato's texts with AI-generated images.

## Features

- Auto-generate jupyter notebooks of Plato texts.
- Notebooks feature the text and functions to generate an Ai image based on the user's prompt to illustrate the text.

## Usage

- Clone the repository
- Install the required packages in your environment via `pip install -r requirements.txt`
- [Add your OpenAi API key to the environment](https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety)
- `python main.py title <title>` command to generate a notebook for the text.
- `python main.py titles` command to list all available texts.

## Example

```bash
python main.py title "Apology"
```

```bash
python main.py titles
```

Check out `example-Apology.ipynb` and `example-Apology.html` for an example notebook and html generated from the text "Apology" by Plato. (Note that the example notebook contains numbers to generate the images, but in practice you would not include these numbers and use a prompt instead.)

## Pipeline

- Download .txt files from Project Gutenberg
- Edit the text files to remove the header and footer, and format for easier parsing (ie. remove line breaks)
- user runs `python main.py <TITLE>` to generate the notebook.
- `main.py` is the main script that generates the notebooks. It takes one argument, title. It runs `parse_texts.ipynb` to parse the text files and generate pickle files for every text. It then, uses  `generate_notebook.py` to generate the notebook for the given title. The notebook is saved to the notebooks folder and is ready to be opened in Jupyter.
- The user can then open the notebook in Jupyter and run the cells to generate the images. The images are saved in the images folder.
- The user can then run the following code to convert the notebook to HTML. The HTML file will contain the text and the images generated by the AI.

```bash
jupyter nbconvert --to html --embed-images  --no-input --theme dark <notebook.ipynb>
jupyter nbconvert --to html --TemplateExporter.extra_template_basedirs=. --template=side_by_side_template  --embed-images --no-input --theme dark <notebook.ipynb> 
```

## Details

### `title` command

When the user runs `python main.py title <title>`:

1. The script checks if the title has a parsing function. Failure to do so will result in an error.
2. The text is parsed and saved as a pickle file.
3. Generates Notebook

## Future

- add a pre-prompt option to include a pre-prompt to the image generation function. This would be useful for adding a specific style or theme to the images generated.
- progrmatically generate the html `python main.py title <title> --html` and save it to the html folder. This would be useful for generating a static website with the images and text.
- pypi package for easy install and sharing (may need to work on environment for easier sharing)
- add other image APIs (huggingface, stable diffusion, etc.)
- could add more texts and use requests to download them from project gutenberg. there is a library to connect with project gutenberg, but investigate if it is worth the effort.
- create a character and inpaint it.

## prompt notes

- If you your own prompt is long and detailed already (multiple sentences) then you can simply write something like:
        My prompt has full detail so no need to add more: ... your prompt here ...
